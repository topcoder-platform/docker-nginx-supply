if ($http_x_forwarded_proto = 'http') {
  return 301 https://$server_name$request_uri;
}

client_max_body_size 30M;
proxy_set_header Host www.topcoder.com;
proxy_pass https://wordpress.topcoder.com/;

add_header 'Content-Security-Policy' "default-src 'self' ; script-src 'self' 'sha256-ujpI6RzzE6ICiplDERnP4Y/M+y4o4pdEDQMKoEEC4FI=' 'sha256-PCIxSStHIIK7M35LXCPnuoYNe1vfFOwp8+x75DQHmBA=' 'sha256-7oBUTZdNFRuLX3LuUMXwFvxUjHx6U5uKokdPvfs0GX8=' 'sha256-odvgAT3xDO6PAviv9dGMpx4o3+xj5dpxpZOlInu9jh8=' 'sha256-x9L1icaLj5jfgIYaGgpS44hkcn0efkdpCq8i4CisoyE=' 'sha256-T6WF5LiQZ/q2Zs/opgMbTajtgyVYze39rK4UkuSPRN4=' 'sha256-1s9xZ8cbRwAM05iM16Z7vk797N/ZAdqFlZyKgCjs3ww=' 'sha256-QwLnyyrELimeYIayqdP1ELayShHthQEK5plj+T2aHlo=' a.quora.com *.js.ubembed.com acsbapp.com *.googleapis.com *.google-analytics.com google.com googletagmanager.com youtube.com assets.ubembed.com builder-assets.unbounce.com cdn.heapanalytics.com cdn.segment.com *.simplecast.com player.vimeo.com cdnjs.cloudflare.com connect.facebook.net d3js.org j.6sc.co px.ads.linkedin.com *.hotjar.com snap.licdn.com static.doubleclick.net unpkg.com ; connect-src * 'unsafe-inline'; img-src * data: blob:; frame-src * ; style-src * 'unsafe-inline' ;font-src * 'unsafe-inline';frame-ancestors * data: blob:;" always;
add_header 'Referrer-Policy' 'strict-origin-when-cross-origin' always;
add_header 'Strict-Transport-Security' "max-age=31536000; includeSubDomains" always;
add_header 'Permissions-Policy' "accelerometer=(), camera=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), payment=(), usb=()" always;